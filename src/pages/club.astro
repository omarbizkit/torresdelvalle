---
import Layout from '../layouts/Layout.astro';

const tiers = [
  {
    name: 'Suelo',
    nameEn: 'Soil',
    price: '$1,200 MXN',
    priceEn: '$65 USD',
    bottles: 2,
    frequency: 'Trimestral',
    frequencyEn: 'Quarterly',
    features: [
      '2 botellas por trimestre',
      '15% de descuento en compras',
      'Acceso anticipado a nuevas a√±adas',
      'Bolet√≠n informativo exclusivo',
      'Env√≠o incluido en M√©xico'
    ],
    featuresEn: [
      '2 bottles per quarter',
      '15% discount on purchases',
      'Early access to new vintages',
      'Exclusive newsletter',
      'Shipping included in Mexico'
    ],
    popular: false
  },
  {
    name: 'Vi√±edos',
    nameEn: 'Vineyards',
    price: '$3,200 MXN',
    priceEn: '$175 USD',
    bottles: 6,
    frequency: 'Trimestral',
    frequencyEn: 'Quarterly',
    features: [
      '6 botellas por trimestre',
      '20% de descuento en compras',
      'Acceso anticipado a nuevas a√±adas',
      'Bolet√≠n informativo exclusivo',
      'Env√≠o incluido en M√©xico',
      'Invitaci√≥n a eventos exclusivos',
      '1 visita privada al a√±o'
    ],
    featuresEn: [
      '6 bottles per quarter',
      '20% discount on purchases',
      'Early access to new vintages',
      'Exclusive newsletter',
      'Shipping included in Mexico',
      'Invitation to exclusive events',
      '1 private visit per year'
    ],
    popular: true
  },
  {
    name: 'Valle',
    nameEn: 'Valley',
    price: '$6,000 MXN',
    priceEn: '$325 USD',
    bottles: 12,
    frequency: 'Trimestral',
    frequencyEn: 'Quarterly',
    features: [
      '12 botellas por trimestre',
      '25% de descuento en compras',
      'Acceso anticipado a nuevas a√±adas',
      'Bolet√≠n informativo exclusivo',
      'Env√≠o incluido en M√©xico',
      'Invitaci√≥n a eventos exclusivos',
      '2 visitas privadas al a√±o',
      'Botella de aniversario exclusiva',
      'Acceso a ediciones limitadas'
    ],
    featuresEn: [
      '12 bottles per quarter',
      '25% discount on purchases',
      'Early access to new vintages',
      'Exclusive newsletter',
      'Shipping included in Mexico',
      'Invitation to exclusive events',
      '2 private visits per year',
      'Exclusive anniversary bottle',
      'Access to limited editions'
    ],
    popular: false
  }
];

const faqItems = [
  {
    question: '¬øC√≥mo funciona el env√≠o?',
    answer: 'Enviamos a todo M√©xico. Las entregas se realizan en la segunda semana de cada mes. Recibir√°s un tracking por correo electr√≥nico.',
    questionEn: 'How does shipping work?',
    answerEn: 'We ship throughout Mexico. Deliveries are made in the second week of each month. You will receive tracking by email.'
  },
  {
    question: '¬øPuedo cancelar en cualquier momento?',
    answer: 'S√≠, puedes cancelar tu membres√≠a en cualquier momento. El env√≠o actual se completar√°, pero no se renovar√°.',
    questionEn: 'Can I cancel anytime?',
    answerEn: 'Yes, you can cancel your membership at any time. The current shipment will be completed, but it will not renew.'
  },
  {
    question: '¬øPuedo personalizar mi selecci√≥n?',
    answer: 'S√≠, puedes indicar tus preferencias en el formulario de registro. Intentamos adaptar las selecciones a tus gustos.',
    questionEn: 'Can I customize my selection?',
    answerEn: 'Yes, you can indicate your preferences in the registration form. We try to adapt the selections to your tastes.'
  },
  {
    question: '¬øIncluyen vinos de edici√≥n limitada?',
    answer: 'Los miembros del nivel Valle reciben acceso prioritario a nuestras ediciones limitadas y reservas especiales.',
    questionEn: 'Do you include limited edition wines?',
    answerEn: 'Valle level members receive priority access to our limited editions and special reserves.'
  },
  {
    question: '¬øHay alg√∫n costo de membres√≠a adicional?',
    answer: 'No hay costos de membres√≠a adicionales. Solo pagas por las botellas que recibes cada trimestre.',
    questionEn: 'Are there any additional membership fees?',
    answerEn: 'There are no additional membership fees. You only pay for the bottles you receive each quarter.'
  }
];
---

<Layout 
  title="Club de Vinos" 
  description="√önete al club de vinos de Torres del Valle y recibe nuestras mejores cosechas directo en tu puerta. Beneficios exclusivos y acceso prioritario."
  locale="es"
>
  <!-- Hero Section -->
  <section class="py-20 bg-warm-sand/20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center reveal">
        <h1 class="text-5xl md:text-6xl font-display font-light text-charcoal mb-6">
          Club de Vinos Torres del Valle
        </h1>
        <p class="text-xl text-sage max-w-3xl mx-auto leading-relaxed">
          √önete a nuestra familia de socios y recibe nuestras mejores cosechas directo en tu puerta. Beneficios exclusivos, acceso prioritario a ediciones limitadas y m√°s.
        </p>
      </div>
    </div>
  </section>
  
  <!-- Membership Tiers -->
  <section class="py-20 bg-crema">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16 reveal">
        <h2 class="text-4xl md:text-5xl font-display font-light text-charcoal mb-4">
          Elige tu Nivel
        </h2>
        <p class="text-xl text-sage max-w-2xl mx-auto">
          Tres niveles dise√±ados para diferentes estilos de disfrute del vino
        </p>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        {tiers.map((tier, index) => (
          <div class="reveal relative" style={`animation-delay: ${index * 0.1}s;`}>
            {tier.popular && (
              <div class="absolute -top-4 left-1/2 transform -translate-x-1/2">
                <span class="px-4 py-2 bg-clay text-crema text-sm font-medium rounded-full">
                  M√°s Popular
                </span>
              </div>
            )}
            
            <div class={`bg-white rounded-lg shadow-lg p-8 h-full ${tier.popular ? 'ring-2 ring-clay' : ''}`}>
              <div class="text-center mb-8">
                <h3 class="text-2xl font-display font-semibold text-charcoal mb-2">
                  {tier.name}
                </h3>
                <p class="text-sage mb-4">{tier.frequency}</p>
                <div class="text-4xl font-display font-light text-clay mb-2">
                  {tier.price}
                </div>
                <p class="text-sage">
                  {tier.bottles} botellas por trimestre
                </p>
              </div>
              
              <ul class="space-y-3 mb-8">
                {tier.features.map((feature) => (
                  <li class="flex items-start">
                    <svg class="w-5 h-5 mr-3 mt-1 text-clay flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                    </svg>
                    <span class="text-sage">{feature}</span>
                  </li>
                ))}
              </ul>
              
              <button 
                class={`w-full py-3 px-6 font-medium rounded transition-colors ${
                  tier.popular 
                    ? 'bg-clay text-crema hover:bg-clay/90' 
                    : 'border-2 border-clay text-clay hover:bg-clay hover:text-crema'
                }`}
                onclick="document.getElementById('signup-form').scrollIntoView({ behavior: 'smooth' })"
              >
                Unirme al Club
              </button>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>
  
  <!-- Benefits Highlight -->
  <section class="py-20 bg-stone text-crema">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16 reveal">
        <h2 class="text-4xl md:text-5xl font-display font-light mb-4">
          Beneficios Exclusivos
        </h2>
        <p class="text-xl text-crema/90 max-w-2xl mx-auto">
          M√°s que solo vinos, una experiencia completa
        </p>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
        {[
          { icon: 'üç∑', title: 'Selecci√≥n Curada', desc: 'Vinos seleccionados personalmente por Lilibeth Torres' },
          { icon: 'üöö', title: 'Env√≠o Gratis', desc: 'Env√≠o incluido a todo M√©xico' },
          { icon: 'üéâ', title: 'Eventos Exclusivos', desc: 'Invitaciones a catas y eventos privados' },
          { icon: 'üìö', title: 'Contenido Educativo', desc: 'Aprende sobre viticultura y elaboraci√≥n' }
        ].map((benefit, index) => (
          <div class="text-center reveal" style={`animation-delay: ${index * 0.1}s;`}>
            <div class="text-4xl mb-4">{benefit.icon}</div>
            <h3 class="text-xl font-display font-semibold mb-3">{benefit.title}</h3>
            <p class="text-crema/80">{benefit.desc}</p>
          </div>
        ))}
      </div>
    </div>
  </section>
  
  <!-- Signup Form -->
  <section id="signup-form" class="py-20 bg-crema">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="bg-white rounded-lg shadow-lg p-8">
        <div class="text-center mb-8">
          <h2 class="text-3xl font-display font-light text-charcoal mb-4">
            √önete al Club
          </h2>
          <p class="text-sage">
            Completa el formulario para comenzar tu membres√≠a
          </p>
        </div>
        
        <form class="space-y-6" x-data="{ selectedTier: 'Vi√±edos' }">
          <!-- Tier Selection -->
          <div>
            <label class="block text-sm font-medium text-charcoal mb-3">
              Selecciona tu nivel
            </label>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
              {tiers.map((tier) => (
                <label class="relative">
                  <input 
                    type="radio" 
                    name="tier" 
                    value={tier.name}
                    x-model="selectedTier"
                    class="sr-only"
                  />
                  <div 
                    class={`p-4 border-2 rounded-lg cursor-pointer transition-colors ${
                      tier.popular ? 'border-clay bg-clay/5' : 'border-warm-sand hover:border-stone'
                    }`}
                    :class="selectedTier === '{tier.name}' ? 'border-clay bg-clay/5' : ''"
                  >
                    <div class="text-center">
                      <h3 class="font-semibold text-charcoal">{tier.name}</h3>
                      <p class="text-clay font-display text-lg">{tier.price}</p>
                      <p class="text-sm text-sage">{tier.frequency}</p>
                    </div>
                  </div>
                </label>
              ))}
            </div>
          </div>
          
          <!-- Personal Information -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label class="block text-sm font-medium text-charcoal mb-2">
                Nombre completo *
              </label>
              <input 
                type="text" 
                required
                class="w-full px-4 py-3 border border-warm-sand rounded focus:outline-none focus:border-clay"
              />
            </div>
            
            <div>
              <label class="block text-sm font-medium text-charcoal mb-2">
                Email *
              </label>
              <input 
                type="email" 
                required
                class="w-full px-4 py-3 border border-warm-sand rounded focus:outline-none focus:border-clay"
              />
            </div>
          </div>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label class="block text-sm font-medium text-charcoal mb-2">
                Tel√©fono (WhatsApp) *
              </label>
              <input 
                type="tel" 
                required
                class="w-full px-4 py-3 border border-warm-sand rounded focus:outline-none focus:border-clay"
              />
            </div>
            
            <div>
              <label class="block text-sm font-medium text-charcoal mb-2">
                Fecha de nacimiento *
              </label>
              <input 
                type="date" 
                required
                class="w-full px-4 py-3 border border-warm-sand rounded focus:outline-none focus:border-clay"
              />
            </div>
          </div>
          
          <!-- Address -->
          <div>
            <label class="block text-sm font-medium text-charcoal mb-2">
              Direcci√≥n de env√≠o *
            </label>
            <textarea 
              rows="3"
              required
              placeholder="Calle, n√∫mero, colonia, c√≥digo postal, ciudad, estado"
              class="w-full px-4 py-3 border border-warm-sand rounded focus:outline-none focus:border-clay resize-none"
            ></textarea>
          </div>
          
          <!-- Wine Preferences -->
          <div>
            <label class="block text-sm font-medium text-charcoal mb-3">
              Preferencias de vino (opcional)
            </label>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
              {['Tintos', 'Blancos', 'Rosados', 'Espumosos'].map((type) => (
                <label class="flex items-center">
                  <input 
                    type="checkbox" 
                    class="mr-2 text-clay focus:ring-clay"
                  />
                  <span class="text-sage">{type}</span>
                </label>
              ))}
            </div>
          </div>
          
          <!-- Terms -->
          <div>
            <label class="flex items-start">
              <input 
                type="checkbox" 
                required
                class="mr-3 mt-1 text-clay focus:ring-clay"
              />
              <span class="text-sm text-sage">
                Acepto los t√©rminos y condiciones del club de vinos. Confirmo que tengo 18 a√±os o m√°s.
              </span>
            </label>
          </div>
          
          <!-- Submit Button -->
          <div class="text-center">
            <button 
              type="submit"
              class="px-8 py-4 bg-clay text-crema font-medium rounded hover:bg-clay/90 transition-colors text-lg"
            >
              Unirme al Club
            </button>
            <p class="text-sm text-sage mt-4">
              Ser√°s redirigido a Stripe para completar tu pago de forma segura
            </p>
          </div>
        </form>
      </div>
    </div>
  </section>
  
  <!-- FAQ -->
  <section class="py-20 bg-warm-sand/30">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16 reveal">
        <h2 class="text-4xl md:text-5xl font-display font-light text-charcoal mb-4">
          Preguntas Frecuentes
        </h2>
        <p class="text-xl text-sage">
          Todo lo que necesitas saber sobre el club
        </p>
      </div>
      
      <div class="space-y-6" x-data="{ active: null }">
        {faqItems.map((item, index) => (
          <div class="reveal" style={`animation-delay: ${index * 0.1}s;`}>
            <button
              @click="active = active === {index} ? null : {index}"
              class="w-full text-left p-6 bg-white rounded-lg hover:bg-warm-sand/30 transition-colors focus:outline-none focus:ring-2 focus:ring-clay/50 shadow-sm"
            >
              <div class="flex items-center justify-between">
                <h3 class="text-lg font-display font-semibold text-charcoal">
                  {item.question}
                </h3>
                <svg 
                  class="w-5 h-5 transform transition-transform text-sage"
                  :class="active === {index} ? 'rotate-180' : ''"
                  fill="none" 
                  stroke="currentColor" 
                  viewBox="0 0 24 24"
                >
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
              </div>
            </button>
            
            <div 
              x-show="active === {index}"
              x-transition
              class="mt-4 p-6 bg-white rounded-lg"
            >
              <p class="text-sage leading-relaxed">
                {item.answer}
              </p>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>
  
  <!-- CTA Section -->
  <section class="py-20 bg-clay text-crema">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <div class="reveal">
        <h2 class="text-4xl md:text-5xl font-display font-light mb-6">
          √önete a la Familia Torres del Valle
        </h2>
        <p class="text-xl mb-8 text-crema/90">
          Recibe lo mejor de nuestro Valle directo en tu puerta
        </p>
        <button 
          onclick="document.getElementById('signup-form').scrollIntoView({ behavior: 'smooth' })"
          class="inline-flex items-center px-8 py-4 bg-crema text-clay font-medium rounded hover:bg-crema/90 transition-colors text-lg"
        >
          Comenzar Membres√≠a
          <svg class="ml-2 w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
          </svg>
        </button>
      </div>
    </div>
  </section>
</Layout>